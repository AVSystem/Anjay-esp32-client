# Copyright 2021 AVSystem <avsystem@avsystem.com>
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

menu "anjay-esp32-client"
    choice ANJAY_CLIENT_DEVBOARD
        prompt "Choose targeted development board"
        default ANJAY_CLIENT_BOARD_UNKNOWN

        if IDF_TARGET_ESP32
            config ANJAY_CLIENT_BOARD_ESP_WROVER_KIT
                bool "ESP-WROVER-KIT"

            config ANJAY_CLIENT_BOARD_ESP32_DEVKITC
                bool "ESP32-DevKitC and derivatives"
        endif

        config ANJAY_CLIENT_BOARD_UNKNOWN
            bool "Unknown board - please configure manually"
    endchoice

    menu "Board options"
        visible if ANJAY_CLIENT_BOARD_UNKNOWN

        config ANJAY_CLIENT_DEVICE_MANUFACTURER
            string "Device manufacturer"
            default "Espressif" if ANJAY_CLIENT_BOARD_ESP_WROVER_KIT
            default "Espressif" if ANJAY_CLIENT_BOARD_ESP32_DEVKITC
            default "Unknown"

        config ANJAY_CLIENT_MODEL_NUMBER
            string "Model number"
            default "ESP-WROVER-KIT" if ANJAY_CLIENT_BOARD_ESP_WROVER_KIT
            default "ESP32-DevKitC" if ANJAY_CLIENT_BOARD_ESP32_DEVKITC
            default "Unknown"

        config ANJAY_CLIENT_PUSH_BUTTON
            bool "Push button enabled"
            default y if ANJAY_CLIENT_BOARD_ESP_WROVER_KIT
            default y if ANJAY_CLIENT_BOARD_ESP32_DEVKITC
            default n

        config ANJAY_CLIENT_LIGHT_CONTROL
            bool "Light control enabled"
            default y if ANJAY_CLIENT_BOARD_ESP_WROVER_KIT
            default n

        if ANJAY_CLIENT_PUSH_BUTTON
            config ANJAY_CLIENT_PUSH_BUTTON_PIN
                int "Push button pin"
                default 0 if ANJAY_CLIENT_BOARD_ESP_WROVER_KIT
                default 0 if ANJAY_CLIENT_BOARD_ESP32_DEVKITC
                default 0
        endif

        menu "Light control options"
            visible if ANJAY_CLIENT_LIGHT_CONTROL

            config ANJAY_CLIENT_LIGHT_CONTROL_RED
                bool "Enable red color"
                default n

            config ANJAY_CLIENT_LIGHT_CONTROL_GREEN
                bool "Enable green color"
                default y if ANJAY_CLIENT_BOARD_ESP_WROVER_KIT
                default n

            config ANJAY_CLIENT_LIGHT_CONTROL_BLUE
                bool "Enable blue color"
                default y if ANJAY_CLIENT_BOARD_ESP_WROVER_KIT
                default n

            if ANJAY_CLIENT_LIGHT_CONTROL_RED
                config ANJAY_CLIENT_LIGHT_CONTROL_RED_PIN
                    int "Red color pin"
                    default 0
            endif

            if ANJAY_CLIENT_LIGHT_CONTROL_GREEN
                config ANJAY_CLIENT_LIGHT_CONTROL_GREEN_PIN
                    int "Green color pin"
                    default 2 if ANJAY_CLIENT_BOARD_ESP_WROVER_KIT
                    default 0
            endif

            if ANJAY_CLIENT_LIGHT_CONTROL_BLUE
                config ANJAY_CLIENT_LIGHT_CONTROL_BLUE_PIN
                    int "Blue color pin"
                    default 4 if ANJAY_CLIENT_BOARD_ESP_WROVER_KIT
                    default 0
            endif
        endmenu
    endmenu

    menu "Client options"
        config ANJAY_CLIENT_ENDPOINT_NAME
            string "Endpoint name"
            default "anjay-esp32-client"

        config ANJAY_CLIENT_SERVER_URI
            string "Server URI"
            default "coaps://try-anjay.avsystem.com:5684"

        config ANJAY_CLIENT_PSK_IDENTITY
            string "PSK identity"
            default ANJAY_CLIENT_ENDPOINT_NAME

        config ANJAY_CLIENT_PSK_KEY
            string "PSK key"
            default "1234"
    endmenu
endmenu
